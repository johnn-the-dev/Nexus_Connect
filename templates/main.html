<!DOCTYPE html>
{% load static %}

<html lang="en" data-bs-theme="dark"> 
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nexus Connect</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'styles/main.css' %}">
</head>
<body>
    
    <div class="d-flex flex-column min-vh-100">
        
        {% include 'navbar.html' %}

        <div class="container mt-4 mb-5 flex-grow-1"> 
            {% block content %}
            {% endblock %}
        </div>

        <footer class="bg-body-tertiary text-center py-3 mt-auto border-top border-secondary">
            <div class="container">
                <p class="mb-0 text-muted small">
                    &copy; 2024 Nexus Connect. Created for educational purposes.
                    <br>
                    Icon made by <a href="https://www.flaticon.com/authors/freepik" target="_blank" class="text-decoration-none text-secondary fw-bold">Freepik</a> from <a href="https://www.flaticon.com/" target="_blank" class="text-decoration-none text-secondary">www.flaticon.com</a>
                </p>
            </div>
        </footer>

    </div>

    <button id="chat-toggle-btn" class="btn btn-primary rounded-circle shadow position-fixed" style="bottom: 20px; right: 20px; width: 60px; height: 60px; z-index: 1050;">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-chat-dots-fill" viewBox="0 0 16 16">
        <path d="M16 8c0 3.866-3.582 7-8 7a9 9 0 0 1-2.347-.306c-.584.296-1.925.864-4.181 1.234-.2.032-.352-.176-.273-.362.354-.836.674-1.95.77-2.966C.744 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7M5 8a1 1 0 1 0-2 0 1 1 0 0 0 2 0m4 0a1 1 0 1 0-2 0 1 1 0 0 0 2 0m3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2"/>
    </svg>
    </button>

    <div id="chat-window" class="card shadow position-fixed d-none" style="bottom: 90px; right: 20px; width: 350px; height: 450px; z-index: 1050; display: flex; flex-direction: column;">
        <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
            <strong>Nexus AI</strong>
            <button id="chat-close-btn" class="btn-close btn-close-white" aria-label="Close"></button>
        </div>
        
        <div id="chat-messages" class="card-body overflow-auto" style="flex-grow: 1; background-color: #2b3035;">
            <div class="mb-2 text-start">
                <span class="badge bg-secondary text-wrap text-start p-2 fs-6">Hello! I'm Nexus AI. Feel free to talk to me.</span>
            </div>
        </div>
        
        <div class="card-footer">
            <div class="input-group">
                <input type="text" id="chat-input" class="form-control" placeholder="Ask AI..." autocomplete="off">
                <button id="chat-send-btn" class="btn btn-primary">Send</button>
            </div>
        </div>
        
        <input type="hidden" id="chat-csrf-token" value="{{ csrf_token }}">
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" ...></script>
    
    <script src="{% static 'js/main.js' %}"></script>
</body>
</html>